### Tests API EcosystIA - Phase 1 Compl√©t√©e ‚úÖ
### Authentication, Projects, Courses, CRM

@baseUrl = http://localhost:8000/api/v1
@contentType = application/json

### ========================================
### üîê AUTHENTICATION API TESTS
### ========================================

### 1. Inscription d'un utilisateur
POST {{baseUrl}}/auth/register/
Content-Type: {{contentType}}

{
  "email": "test@ecosystia.org",
  "username": "testuser",
  "first_name": "Test",
  "last_name": "User",
  "password": "TestPassword123!",
  "password_confirm": "TestPassword123!",
  "role": "entrepreneur",
  "phone": "+221701234567",
  "location": "Dakar, S√©n√©gal"
}

### 2. Connexion utilisateur (r√©cup√©rer le token)
POST {{baseUrl}}/auth/login/
Content-Type: {{contentType}}

{
  "email": "test@ecosystia.org",
  "password": "TestPassword123!"
}

### 3. V√©rification du token (remplacer TOKEN par le token obtenu)
POST {{baseUrl}}/auth/token/verify/
Content-Type: {{contentType}}

{
  "access_token": "TOKEN_HERE"
}

### 4. R√©cup√©rer le profil utilisateur
GET {{baseUrl}}/auth/profile/
Authorization: Bearer TOKEN_HERE

### 5. Mettre √† jour le profil
PATCH {{baseUrl}}/auth/profile/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "first_name": "Test Updated",
  "skills": ["Django", "React", "AI"],
  "profile": {
    "bio": "D√©veloppeur passionn√© par l'IA",
    "company": "EcosystIA",
    "job_title": "Full Stack Developer"
  }
}

### ========================================
### üìã PROJECTS API TESTS
### ========================================

### 6. Cr√©er un projet
POST {{baseUrl}}/projects/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "title": "Plateforme EcosystIA",
  "description": "D√©veloppement de la plateforme compl√®te EcosystIA avec toutes ses fonctionnalit√©s",
  "status": "In Progress",
  "priority": "High",
  "start_date": "2024-01-01",
  "due_date": "2024-12-31",
  "budget": 50000.00,
  "progress": 25,
  "team_member_ids": []
}

### 7. Lister tous les projets
GET {{baseUrl}}/projects/
Authorization: Bearer TOKEN_HERE

### 8. R√©cup√©rer un projet sp√©cifique (remplacer 1 par l'ID du projet)
GET {{baseUrl}}/projects/1/
Authorization: Bearer TOKEN_HERE

### 9. Cr√©er une t√¢che dans un projet
POST {{baseUrl}}/projects/1/tasks/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "title": "Cr√©er les APIs REST",
  "description": "D√©velopper toutes les APIs manquantes pour le backend",
  "status": "In Progress",
  "priority": "High",
  "due_date": "2024-02-15T10:00:00Z",
  "estimated_time": 480,
  "tags": ["backend", "api", "development"]
}

### 10. Lister les t√¢ches d'un projet
GET {{baseUrl}}/projects/1/tasks/
Authorization: Bearer TOKEN_HERE

### 11. Statistiques des projets
GET {{baseUrl}}/projects/stats/
Authorization: Bearer TOKEN_HERE

### 12. Dashboard des projets
GET {{baseUrl}}/projects/dashboard/
Authorization: Bearer TOKEN_HERE

### ========================================
### üìö COURSES API TESTS
### ========================================

### 13. Cr√©er un cours
POST {{baseUrl}}/courses/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "title": "Introduction au D√©veloppement Web avec Django",
  "description": "Apprenez √† cr√©er des applications web modernes avec Django REST Framework",
  "duration": "8 semaines",
  "difficulty": "Intermediate",
  "status": "Published",
  "icon": "fas fa-code",
  "thumbnail": "https://example.com/django-course.jpg",
  "tags": ["Django", "Python", "Web Development", "API"],
  "prerequisites": "Connaissance de base en Python"
}

### 14. Lister tous les cours (publics)
GET {{baseUrl}}/courses/

### 15. R√©cup√©rer un cours sp√©cifique
GET {{baseUrl}}/courses/1/

### 16. S'inscrire √† un cours
POST {{baseUrl}}/courses/1/enroll/
Authorization: Bearer TOKEN_HERE

### 17. Cr√©er un module dans un cours
POST {{baseUrl}}/courses/1/modules/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "title": "Introduction √† Django",
  "description": "Les bases du framework Django",
  "order": 1,
  "is_published": true
}

### 18. Cr√©er une le√ßon dans un module
POST {{baseUrl}}/courses/modules/1/lessons/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "title": "Installation et configuration de Django",
  "type": "video",
  "duration": "15 minutes",
  "order": 1,
  "content": "Dans cette le√ßon, nous allons apprendre √† installer Django...",
  "video_url": "https://youtube.com/watch?v=example",
  "is_published": true
}

### 19. Marquer une le√ßon comme compl√©t√©e
POST {{baseUrl}}/courses/lessons/progress/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "lesson_id": 1,
  "completed": true
}

### 20. Mes inscriptions aux cours
GET {{baseUrl}}/courses/enrollments/
Authorization: Bearer TOKEN_HERE

### 21. Noter un cours
POST {{baseUrl}}/courses/1/rate/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "rating": 5,
  "feedback": "Excellent cours, tr√®s bien structur√© !"
}

### ========================================
### ü§ù CRM API TESTS
### ========================================

### 22. Cr√©er un contact
POST {{baseUrl}}/crm/contacts/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "name": "Jean Dupont",
  "work_email": "jean.dupont@entreprise.com",
  "company": "Tech Solutions SARL",
  "job_title": "Directeur Technique",
  "status": "Lead",
  "source": "Website",
  "office_phone": "+221338123456",
  "mobile_phone": "+221701234567",
  "city": "Dakar",
  "country": "S√©n√©gal",
  "notes": "Int√©ress√© par nos solutions de formation en ligne",
  "tags": ["formation", "tech", "priorit√©-haute"]
}

### 23. Lister tous les contacts
GET {{baseUrl}}/crm/contacts/
Authorization: Bearer TOKEN_HERE

### 24. R√©cup√©rer un contact sp√©cifique
GET {{baseUrl}}/crm/contacts/1/
Authorization: Bearer TOKEN_HERE

### 25. Cr√©er une interaction avec un contact
POST {{baseUrl}}/crm/contacts/1/interactions/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "type": "Call",
  "result": "Positive",
  "subject": "Discussion sur les besoins en formation",
  "description": "Appel tr√®s productif. Le client est int√©ress√© par nos formations Django et React.",
  "duration": 45,
  "follow_up_date": "2024-02-20T14:00:00Z",
  "follow_up_notes": "Pr√©parer une proposition commerciale d√©taill√©e"
}

### 26. Cr√©er une opportunit√©
POST {{baseUrl}}/crm/contacts/1/deals/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "name": "Formation √©quipe Tech Solutions",
  "description": "Formation compl√®te Django + React pour 10 d√©veloppeurs",
  "stage": "Qualified",
  "value": 2500000.00,
  "currency": "XOF",
  "probability": 75,
  "expected_close_date": "2024-03-15"
}

### 27. Lister toutes les opportunit√©s
GET {{baseUrl}}/crm/deals/
Authorization: Bearer TOKEN_HERE

### 28. Statistiques CRM
GET {{baseUrl}}/crm/contacts/stats/
Authorization: Bearer TOKEN_HERE

### 29. Dashboard CRM
GET {{baseUrl}}/crm/dashboard/
Authorization: Bearer TOKEN_HERE

### 30. Action en masse sur les contacts
POST {{baseUrl}}/crm/contacts/bulk-action/
Authorization: Bearer TOKEN_HERE
Content-Type: {{contentType}}

{
  "contact_ids": [1],
  "action": "update_status",
  "status": "Prospect"
}

### ========================================
### üîç RECHERCHES ET FILTRES
### ========================================

### 31. Rechercher des projets
GET {{baseUrl}}/projects/?search=API&status=In Progress&priority=High
Authorization: Bearer TOKEN_HERE

### 32. Filtrer des cours
GET {{baseUrl}}/courses/?difficulty=Intermediate&search=Django

### 33. Filtrer des contacts CRM
GET {{baseUrl}}/crm/contacts/?status=Lead&source=Website&city=Dakar
Authorization: Bearer TOKEN_HERE

### 34. Mes t√¢ches assign√©es
GET {{baseUrl}}/projects/tasks/my/?status=In Progress&priority=High
Authorization: Bearer TOKEN_HERE

### ========================================
### üìä ANALYTICS ET STATISTIQUES
### ========================================

### 35. Statistiques globales des projets
GET {{baseUrl}}/projects/stats/
Authorization: Bearer TOKEN_HERE

### 36. Statistiques des cours
GET {{baseUrl}}/courses/stats/
Authorization: Bearer TOKEN_HERE

### 37. Statistiques CRM
GET {{baseUrl}}/crm/contacts/stats/
Authorization: Bearer TOKEN_HERE

### ========================================
### üöÄ TESTS DE PERFORMANCE
### ========================================

### 38. Test pagination - Projets
GET {{baseUrl}}/projects/?page=1&page_size=10
Authorization: Bearer TOKEN_HERE

### 39. Test pagination - Cours
GET {{baseUrl}}/courses/?page=1&page_size=20

### 40. Test pagination - Contacts
GET {{baseUrl}}/crm/contacts/?page=1&page_size=15
Authorization: Bearer TOKEN_HERE

### ========================================
### ‚úÖ TESTS COMPLETS - PHASE 1 TERMIN√âE !
### ========================================
### 
### APIs cr√©√©es et test√©es :
### ‚úÖ Authentication (inscription, connexion, profil)
### ‚úÖ Projects (projets, t√¢ches, √©quipes, risques)
### ‚úÖ Courses (cours, modules, le√ßons, inscriptions)
### ‚úÖ CRM (contacts, interactions, opportunit√©s)
### 
### Fonctionnalit√©s impl√©ment√©es :
### ‚úÖ JWT Authentication avec refresh tokens
### ‚úÖ CRUD complet pour tous les mod√®les
### ‚úÖ Filtres et recherche avanc√©s
### ‚úÖ Pagination automatique
### ‚úÖ Permissions et s√©curit√©
### ‚úÖ Statistiques et analytics
### ‚úÖ Import/Export de donn√©es
### ‚úÖ Actions en masse
### ‚úÖ Suivi de progression
### ‚úÖ Notifications d'activit√©
### 
### Pr√™t pour la Phase 2 ! üöÄ
